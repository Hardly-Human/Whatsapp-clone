(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(11),s=a.n(i),r=a(23),o=(a(77),a(124)),d=(a(78),a(38)),l=(a(79),a(102),a(103),a(81),d.a.initializeApp({apiKey:"AIzaSyAiVTVf8SmyZXu-SBPVmgP4l0Wmzkl-leI",authDomain:"whatsapp-clone-53245.firebaseapp.com",projectId:"whatsapp-clone-53245",storageBucket:"whatsapp-clone-53245.appspot.com",messagingSenderId:"542042672013",appId:"1:542042672013:web:d9e5fc82ce2d375523cbc4"})),u=l.firestore(),j=l.auth(),h=new d.a.auth.GoogleAuthProvider,m=d.a.storage().ref("images"),b=d.a.storage().ref("audios"),p=d.a.firestore.FieldValue.serverTimestamp,f=(d.a.database.ServerValue.TIMESTAMP,a(3));function O(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)("div",{className:"login",children:Object(f.jsxs)("div",{className:"login__container",children:[Object(f.jsx)("img",{src:"./login-logo.png",alt:"Logo"}),Object(f.jsx)("div",{className:"login__text",children:Object(f.jsx)("h1",{children:"Sign in to WhatsApp"})}),Object(f.jsx)(o.a,{onClick:function(){j.signInWithRedirect(h)},children:"Sign in with Google"})]})})})}var v=a(16),x=a.n(v),g=a(37),_=a(29),w=a(8),N=a(149),y=a(130),k=a(131),C=a(128),R=a(132),S=a(133),I=a(134),U=a(135),L=a(127),E=a(129),M=a(33);function A(e){var t=e.item;return Object(f.jsx)(M.b,{className:"link",to:"/room/".concat(t.id),children:Object(f.jsxs)("div",{className:"sidebar__chat",children:[Object(f.jsx)("div",{className:"avatar__container",children:Object(f.jsx)(N.a,{style:{width:45,height:45},src:t.photoURL||"https://avatars.dicebear.com/api/human/".concat(t.id,".svg")})}),Object(f.jsx)("div",{className:"sidebar__chat--info",children:Object(f.jsx)("h2",{children:t.name})})]})})}a(93);function D(e){var t=e.title,a=e.data;return a?a.length||"Search Results"!==t?Object(f.jsxs)("div",{className:"sidebar__chat--container",children:[Object(f.jsx)("h2",{children:t}),a.map((function(e){return Object(f.jsx)(A,{item:e},e.id)}))]}):Object(f.jsxs)("div",{className:"no-result",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(C.a,{}),Object(f.jsx)("div",{className:"cancel-root",children:Object(f.jsx)(E.a,{})})]}),Object(f.jsxs)("h2",{children:["No ",t]})]}):Object(f.jsx)("div",{className:"loader__container sidebar__loader",children:Object(f.jsx)(L.a,{})})}a(94);var T=a(12),P=a(30);function F(e){var t,a=e.user,n=e.page,i=function(){var e=Object(P.a)(u.collection("rooms").orderBy("timestamp","desc")),t=Object(w.a)(e,1)[0];return null===t||void 0===t?void 0:t.docs.map((function(e){return Object(r.a)({id:e.id,userID:e.id},e.data())}))}(),s=function(e){var t=Object(P.a)(u.collection("users").orderBy("timestamp","desc")),a=Object(w.a)(t,1)[0],n=[];return e&&(null===a||void 0===a||a.docs.forEach((function(t){var a=t.id>e.uid?"".concat(t.id).concat(e.uid):"".concat(e.uid).concat(t.id);t.id!==e.uid&&n.push(Object(r.a)({id:a,userID:t.id},t.data()))}))),n}(a),o=function(e){var t=Object(P.a)(e?u.collection("users").doc(e.uid).collection("chats").orderBy("timestamp","desc"):null),a=Object(w.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}(a),d=c.a.useState([]),l=Object(w.a)(d,2),h=l[0],m=l[1],b=c.a.useState(1),O=Object(w.a)(b,2),v=O[0],L=O[1];function E(){return(E=Object(_.a)(x.a.mark((function e(t){var a,n,c,i,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements.search.value,e.next=4,u.collection("users").where("name","==",a).get();case 4:return n=e.sent,e.next=7,u.collection("rooms").where("name","==",a).get();case 7:c=e.sent,i=n.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),s=c.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),o=[].concat(Object(g.a)(i),Object(g.a)(s)),L(4),m(o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t=n.isMobile?M.c:function(e){return Object(f.jsx)("div",{className:"".concat(e.activeClass?"sidebar__menu--selected":""),onClick:e.onClick,children:e.children})},Object(f.jsxs)("div",{className:"sidebar",style:{minHeight:n.isMobile?n.height:"auto"},children:[Object(f.jsxs)("div",{className:"sidebar__header",children:[Object(f.jsxs)("div",{className:"sidebar__header--left",children:[Object(f.jsx)(N.a,{src:null===a||void 0===a?void 0:a.photoURL}),Object(f.jsx)("h4",{children:null===a||void 0===a?void 0:a.displayName})]}),Object(f.jsx)("div",{className:"sidebar__header--right",children:Object(f.jsx)(y.a,{onClick:function(){j.signOut()},children:Object(f.jsx)(k.a,{})})})]}),Object(f.jsx)("div",{className:"sidebar__search",children:Object(f.jsxs)("form",{onSubmit:function(e){return E.apply(this,arguments)},className:"sidebar__search--container",children:[Object(f.jsx)(C.a,{}),Object(f.jsx)("input",{placeholder:"Search for users or rooms",type:"text",id:"search"})]})}),Object(f.jsxs)("div",{className:"sidebar__menu",children:[Object(f.jsx)(t,{to:"/chats",activeClassName:"sidebar__menu--selected",onClick:function(){return L(1)},activeClass:1===v,children:Object(f.jsxs)("div",{className:"sidebar__menu--home",children:[Object(f.jsx)(R.a,{}),Object(f.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(f.jsx)(t,{to:"/rooms",activeClassName:"sidebar__menu--selected",onClick:function(){return L(2)},activeClass:2===v,children:Object(f.jsxs)("div",{className:"sidebar__menu--rooms",children:[Object(f.jsx)(S.a,{}),Object(f.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(f.jsx)(t,{to:"/users",activeClassName:"sidebar__menu--selected",onClick:function(){return L(3)},activeClass:3===v,children:Object(f.jsxs)("div",{className:"sidebar__menu--users",children:[Object(f.jsx)(I.a,{}),Object(f.jsx)("div",{className:"sidebar__menu--line"})]})})]}),n.isMobile?Object(f.jsxs)(T.d,{children:[Object(f.jsx)(T.b,{path:"/chats",children:Object(f.jsx)(D,{title:"Chats",data:o})}),Object(f.jsx)(T.b,{path:"/rooms",children:Object(f.jsx)(D,{title:"Rooms",data:i})}),Object(f.jsx)(T.b,{path:"/users",children:Object(f.jsx)(D,{title:"Users",data:s})}),Object(f.jsx)(T.b,{path:"/search",children:Object(f.jsx)(D,{title:"Search Results",data:h})})]}):1===v?Object(f.jsx)(D,{title:"Chats",data:o}):2===v?Object(f.jsx)(D,{title:"Rooms",data:i}):3===v?Object(f.jsx)(D,{title:"Users",data:s}):4===v?Object(f.jsx)(D,{title:"Search Results",data:h}):null,Object(f.jsx)("div",{className:"sidebar__chat--addRoom",children:Object(f.jsx)(y.a,{onClick:function(){var e=prompt("Type the name of your room");e.trim()&&u.collection("rooms").add({name:e,timestamp:p()})},children:Object(f.jsx)(U.a,{})})})]})}a(95);var W=a(136),B=a(137);a(96);function H(e){var t=e.sender,a=e.audioUrl,n=e.id,i=e.setAudioId,s=e.audioId,r=c.a.useState(!1),o=Object(w.a)(r,2),d=o[0],l=o[1],u=c.a.useState(!1),j=Object(w.a)(u,2),h=j[0],m=j[1],b=c.a.useState(!1),p=Object(w.a)(b,2),O=p[0],v=p[1],x=c.a.useState(!1),g=Object(w.a)(x,2),_=g[0],N=g[1],y=c.a.useState(0),k=Object(w.a)(y,2),C=k[0],R=k[1],S=c.a.useState(""),I=Object(w.a)(S,2),U=I[0],E=I[1],M=c.a.useRef(""),A=c.a.useRef(new Audio(a)),D=c.a.useRef(),T=c.a.useRef("uploading"===a);function P(e){var t=Math.floor(e/60),a=Math.floor(e-60*t);return t<10&&(t="0".concat(t)),a<10&&(a="0".concat(a)),"".concat(t,":").concat(a)}function F(){var e=A.current,t=e.currentTime,a=e.duration;if("number"===typeof a){R(t*(100/a));var n=P(t);E(n)}}return c.a.useEffect((function(){T.current&&"uploading"!==a?(A.current=new Audio(a),A.current.load(),v(!0)):!1===T.current&&v(!0)}),[a]),c.a.useEffect((function(){var e;O&&(e=A.current,new Promise((function(t){e.onloadedmetadata=function(){e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,t(e.duration)}}}))).then((function(){N(!0)}))}),[O]),c.a.useEffect((function(){_&&(A.current.addEventListener("canplaythrough",(function(){if(!M.current){m(!0);var e=P(A.current.duration);M.current=e,E(M.current)}})),A.current.addEventListener("ended",(function(){clearInterval(D.current),E(M.current),R(0),l(!1)})))}),[_]),c.a.useEffect((function(){s!==n&&(A.current.pause(),l(!1))}),[s,n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"audioplayer ".concat(t?"":"audioplayer__alt"),children:[h?d?Object(f.jsx)(W.a,{onClick:function(){A.current.pause(),clearInterval(D.current),l(!1),E(M.current)},className:"pause"}):d?null:Object(f.jsx)(B.a,{onClick:function(){l(!0),A.current.play(),s!==n&&i(n),D.current=setInterval(F,100)}}):Object(f.jsx)(L.a,{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{style:{width:"".concat(C,"%")},className:"audioplayer__slider--played"}),Object(f.jsx)("input",{type:"range",min:"1",max:"100",value:C,onChange:function(e){var t=e.target.value,a=A.current.duration;if(h){var n=a*(t/100);A.current.currentTime=n,R(t)}},className:"audioplayer__slider"})]})]}),Object(f.jsx)("span",{className:"chat__timestamp audioplayer__time",children:U})]})}function z(e){var t=e.messages,a=e.user,n=e.roomId,c=e.audioId,i=e.setAudioId;return t?t.map((function(e){var t=e.uid===a.uid;return Object(f.jsxs)("div",{className:"chat__message ".concat(t?"chat__message--sender":""),children:[Object(f.jsx)("span",{className:"chat__name",children:e.name}),"uploading"===e.imageUrl?Object(f.jsx)("div",{className:"image-container",children:Object(f.jsx)("div",{className:"image__container--loader",children:Object(f.jsx)(L.a,{style:{width:40,height:40}})})}):e.imageUrl?Object(f.jsx)("div",{className:"image-container",children:Object(f.jsx)("img",{src:e.imageUrl,alt:e.name})}):null,e.audioName?Object(f.jsx)(H,{sender:t,roomId:n,id:e.id,audioUrl:e.audioUrl,audioId:c,setAudioId:i}):Object(f.jsx)("span",{className:"chat__message--message",children:e.message}),Object(f.jsx)("span",{className:"chat__timestamp",children:e.time})]},e.id)})):null}var V=a(138),G=a(139),J=a(140),K=a(141),X=a(147);a(97);function q(){return new Promise((function(e){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){var a=new MediaRecorder(t),n=[];a.addEventListener("dataavailable",(function(e){n.push(e.data)})),e({start:function(){a.start()},stop:function(){return new Promise((function(e){a.addEventListener("stop",(function(){var t=Object(X.a)(),a=new File(n,t,{type:"audio/mpeg"}),c=URL.createObjectURL(a),i=new Audio(c);e({audioFile:a,audioUrl:c,play:function(){i.play()},audioName:t})})),a.stop()}))}})}))}))}function Z(e){var t=e.input,a=e.onChange,n=e.sendMessage,i=e.image,s=e.user,r=e.room,o=e.roomId,d=e.setAudioId,l=c.a.useState(!1),j=Object(w.a)(l,2),h=j[0],m=j[1],O=c.a.useState("00:00"),v=Object(w.a)(O,2),g=v[0],N=v[1],y=c.a.useRef(),k=c.a.useRef(),C=c.a.useRef(),R=c.a.useRef();function S(){return(S=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,q();case 3:C.current=e.sent,R.current.focus(),R.current.style.width="calc(100% - 56px)",m(!0),d("");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return String(e).length<2?"0".concat(e):e}function U(){return L.apply(this,arguments)}function L(){return(L=Object(_.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.current.focus(),clearInterval(y.current),t=C.current.stop(),k.current.style.opacity="0",m(!1),R.current.style.width="calc(100% - 112px)",N("00:00"),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(_.a)(x.a.mark((function e(){var t,a,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return t=e.sent,e.next=5,t;case 5:a=e.sent,n=a.audioFile,c=a.audioName,M(n,c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return A.apply(this,arguments)}function A(){return(A=Object(_.a)(x.a.mark((function e(t,a){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.collection("users").doc(s.uid).collection("chats").doc(o).set({name:r.name,photoURL:r.photoURL||null,timestamp:p()}),e.next=3,u.collection("rooms").doc(o).collection("messages").add({name:s.displayName,uid:s.uid,timestamp:p(),time:(new Date).toUTCString(),audioUrl:"uploading",audioName:a});case 3:return n=e.sent,e.next=6,b.child(a).put(t);case 6:return e.next=8,b.child(a).getDownloadURL();case 8:c=e.sent,u.collection("rooms").doc(o).collection("messages").doc(n.id).update({audioUrl:c});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.a.useEffect((function(){h&&(k.current.style.opacity="1",function(){var e=Date.now();function t(){var t=Date.now()-e,a=Math.floor(t/1e3),n=I(parseInt(a/60)),c=I(parseInt(a%60)),i="".concat(n,":").concat(c);N(i)}y.current=setInterval(t,100)}(),C.current.start())}),[h]);var D=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(V.a,{style:{width:20,height:20,color:"white"}}),Object(f.jsx)(G.a,{style:{width:24,height:24,color:"white"}})]}),T=navigator.mediaDevices.getUserMedia&&window.MediaRecorder;return Object(f.jsxs)("div",{className:"chat__footer",children:[Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{ref:R,value:t,onChange:h?null:a,onKeyPress:h?function(){return!1}:null,placeholder:"Type a message"}),T?Object(f.jsx)("button",{onClick:t.trim()||""===t&&i?n:function(e){return S.apply(this,arguments)},type:"submit",className:"send__btn",children:D}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"capture",className:"send__btn",children:D}),Object(f.jsx)("input",{style:{display:"none"},type:"file",id:"capture",accept:"audio/*",capture:!0,onChange:function(e){var t=e.target.files[0];t&&(d(""),M(t,Object(X.a)()))}})]})]}),h&&Object(f.jsxs)("div",{ref:k,className:"record",children:[Object(f.jsx)(J.a,{style:{width:30,height:30,color:"#f20519"},onClick:U}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"record__redcircle"}),Object(f.jsx)("div",{className:"record__duration",children:g})]}),Object(f.jsx)(K.a,{style:{width:30,height:30,color:"#41bf49"},onClick:function(){return E.apply(this,arguments)}})]})]})}a(98);var Q=a(142);function Y(e){var t=e.src,a=e.closePreview;return t?Object(f.jsxs)("div",{className:"mediaPreview",children:[Object(f.jsx)(Q.a,{onClick:a}),Object(f.jsx)("img",{src:t,alt:"Preview"})]}):null}var $=a(67),ee=a.n($),te=a(146),ae=a(148),ne=a(143),ce=a(144),ie=a(145);function se(e){var t=e.user,a=e.page,n=c.a.useState(null),i=Object(w.a)(n,2),s=i[0],o=i[1],d=c.a.useState(""),l=Object(w.a)(d,2),j=l[0],h=l[1],O=c.a.useState(!1),v=Object(w.a)(O,2),k=v[0],C=v[1],R=c.a.useState(null),S=Object(w.a)(R,2),I=S[0],U=S[1],E=c.a.useState(""),M=Object(w.a)(E,2),A=M[0],D=M[1],F=c.a.useState(""),W=Object(w.a)(F,2),B=W[0],H=W[1],V=Object(T.h)().roomId,G=Object(T.g)(),J=function(e){var t=Object(P.a)(e?u.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc"):null),a=Object(w.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}(V),K=function(e,t){var a=e.includes(t),n=a?null===e||void 0===e?void 0:e.replace(t,""):e,c=Object(P.b)(u.collection(a?"users":"rooms").doc(n)),i=Object(w.a)(c,1)[0];return i?Object(r.a)({id:i.id,photoURL:i.photoURL||"https://avatars.dicebear.com/api/human/".concat(i.id,".svg")},i.data()):null}(V,t.uid);function q(){return(q=Object(_.a)(x.a.mark((function e(a){var n,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(j.trim()||""===j&&s)){e.next=11;break}return h(""),s&&Q(),n=Object(X.a)(),c=s?{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString(),imageUrl:"uploading",imageName:n}:{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString()},u.collection("users").doc(t.uid).collection("chats").doc(V).set({name:K.name,photoURL:K.photoURL||null,timestamp:p()}),e.next=9,u.collection("rooms").doc(V).collection("messages").add(c);case 9:i=e.sent,s&&new ee.a(s,{quality:.8,maxWidth:1920,success:function(e){return Object(_.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(""),o(null),t.next=4,m.child(n).put(e);case 4:return t.next=6,m.child(n).getDownloadURL();case 6:a=t.sent,u.collection("rooms").doc(V).collection("messages").doc(i.id).update({imageUrl:a});case 8:case"end":return t.stop()}}),t)})))()}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){D(""),o(null)}function $(){return($=Object(_.a)(x.a.mark((function e(){var n,c,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),C(!0),e.prev=2,n=u.collection("rooms").doc(V),e.next=6,n.collection("messages").get();case 6:return c=e.sent,i=[],s=[],c.docs.forEach((function(e){e.data().audioName?i.push(e.data().audioName):e.data().imageName&&s.push(e.data().imageName)})),e.next=12,Promise.all([].concat(Object(g.a)(c.docs.map((function(e){return e.ref.delete()}))),Object(g.a)(s.map((function(e){return m.child(e).delete()}))),Object(g.a)(i.map((function(e){return b.child(e).delete()}))),[u.collection("users").doc(t.uid).collection("chats").doc(V).delete(),n.delete()]));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error deleting room: ",e.t0.message);case 17:return e.prev=17,C(!1),a.isMobile?G.goBack():G.replace("/chats"),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,21]])})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)("div",{style:{height:a.height},className:"chat__background"}),Object(f.jsxs)("div",{className:"chat__header",children:[a.isMobile&&Object(f.jsx)(y.a,{onClick:G.goBack,children:Object(f.jsx)(ne.a,{})}),Object(f.jsx)("div",{className:"avatar__container",children:Object(f.jsx)(N.a,{src:null===K||void 0===K?void 0:K.photoURL})}),Object(f.jsx)("div",{className:"chat__header--info",children:Object(f.jsx)("h3",{style:{width:a.isMobile&&a.width-165},children:null===K||void 0===K?void 0:K.name})}),Object(f.jsxs)("div",{className:"chat__header--right",children:[Object(f.jsx)("input",{id:"image",style:{display:"none"},accept:"image/*",type:"file",onChange:function(e){var t=e.target.files[0];if(t){o(t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(){D(a.result)}}}}),Object(f.jsx)(y.a,{children:Object(f.jsx)("label",{style:{cursor:"pointer",height:24},htmlFor:"image",children:Object(f.jsx)(ce.a,{})})}),Object(f.jsx)(y.a,{onClick:function(e){return U(e.currentTarget)},children:Object(f.jsx)(ie.a,{})}),Object(f.jsx)(te.a,{id:"menu",anchorEl:I,open:Boolean(I),onClose:function(){return U(null)},keepMounted:!0,children:Object(f.jsx)(ae.a,{onClick:function(){return $.apply(this,arguments)},children:"Delete Room"})})]})]}),Object(f.jsx)("div",{className:"chat__body--container",children:Object(f.jsx)("div",{className:"chat__body",style:{height:a.height-68},children:Object(f.jsx)(z,{messages:J,user:t,roomId:V,audioId:B,setAudioId:H})})}),Object(f.jsx)(Y,{src:A,closePreview:Q}),Object(f.jsx)(Z,{input:j,onChange:function(e){h(e.target.value)},sendMessage:function(e){return q.apply(this,arguments)},image:s,user:t,room:K,roomId:V,setAudioId:H}),k&&Object(f.jsx)("div",{className:"chat__deleting",children:Object(f.jsx)(L.a,{})})]})}var re=a(68);function oe(){var e=function(){var e=c.a.useState({width:void 0,height:void 0}),t=Object(w.a)(e,2),a=t[0],n=t[1];return c.a.useEffect((function(){function e(){if(window.innerHeight>768&&window.innerWidth>1366){var e=window.innerHeight/window.innerWidth,t=768/1366;n(t<e?{width:1366,height:window.innerHeight*(1366/window.innerWidth),transform:"scale(".concat(window.innerWidth/1366,")")}:t>e?{width:window.innerWidth*(768/window.innerHeight),height:768,transform:"scale(".concat(window.innerHeight/768,")")}:{width:1366,height:768,transform:"scale(".concat(window.innerHeight/768,")")})}n({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=760,transform:"scale(1)"})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),t=function(){var e=Object(re.a)(j),t=Object(w.a)(e,1)[0];return c.a.useEffect((function(){if(t){var e=u.collection("users").doc(t.uid);e.get().then((function(a){a.exists||e.set({name:t.displayName,photoURL:t.photoURL,timestamp:p()})}))}}),[t]),t}();return t?Object(f.jsxs)("div",{className:"app",style:Object(r.a)({},e),children:[Object(f.jsx)(T.a,{to:e.isMobile?"/chats":"/"}),Object(f.jsxs)("div",{className:"app__body",children:[Object(f.jsx)(F,{user:t,page:e}),Object(f.jsx)(T.b,{path:"/room/:roomId",children:Object(f.jsx)(se,{user:t,page:e})})]})]}):Object(f.jsx)(O,{})}a(100);s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(M.a,{children:Object(f.jsx)(oe,{})})}),document.getElementById("root"))},77:function(e,t,a){},78:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.1b97c181.chunk.js.map