(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(11),s=a.n(i),r=a(23),o=(a(77),a(124)),d=(a(78),a(38)),l=(a(79),a(102),a(103),a(81),d.a.initializeApp({apiKey:"AIzaSyAiVTVf8SmyZXu-SBPVmgP4l0Wmzkl-leI",authDomain:"whatsapp-clone-53245.firebaseapp.com",projectId:"whatsapp-clone-53245",storageBucket:"whatsapp-clone-53245.appspot.com",messagingSenderId:"542042672013",appId:"1:542042672013:web:d9e5fc82ce2d375523cbc4"})),u=l.firestore(),j=l.auth(),h=new d.a.auth.GoogleAuthProvider,m=d.a.storage().ref("images"),b=d.a.storage().ref("audios"),p=d.a.firestore.FieldValue.serverTimestamp,f=(d.a.database.ServerValue.TIMESTAMP,a(3));function O(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)("div",{className:"login",children:Object(f.jsxs)("div",{className:"login__container",children:[Object(f.jsx)("img",{src:"./login-logo.png",alt:"Logo"}),Object(f.jsx)("div",{className:"login__text",children:Object(f.jsx)("h1",{children:"Sign in to Whatsapp"})}),Object(f.jsx)(o.a,{onClick:function(){j.signInWithRedirect(h)},children:"Sign in with Google"})]})})})}var v=a(37),x=a(16),g=a.n(x),_=a(29),w=a(8),N=a(12),y=(a(90),a(30));var R=a(127),k=a(128),C=a(129);a(91);function S(e){var t=e.sender,a=e.audioUrl,n=e.id,i=e.setAudioId,s=e.audioId,r=c.a.useState(!1),o=Object(w.a)(r,2),d=o[0],l=o[1],u=c.a.useState(!1),j=Object(w.a)(u,2),h=j[0],m=j[1],b=c.a.useState(!1),p=Object(w.a)(b,2),O=p[0],v=p[1],x=c.a.useState(!1),g=Object(w.a)(x,2),_=g[0],N=g[1],y=c.a.useState(0),S=Object(w.a)(y,2),I=S[0],U=S[1],L=c.a.useState(""),E=Object(w.a)(L,2),M=E[0],A=E[1],D=c.a.useRef(""),T=c.a.useRef(new Audio(a)),P=c.a.useRef(),F=c.a.useRef("uploading"===a);function W(e){var t=Math.floor(e/60),a=Math.floor(e-60*t);return t<10&&(t="0".concat(t)),a<10&&(a="0".concat(a)),"".concat(t,":").concat(a)}function B(){var e=T.current,t=e.currentTime,a=e.duration;if("number"===typeof a){U(t*(100/a));var n=W(t);A(n)}}return c.a.useEffect((function(){F.current&&"uploading"!==a?(T.current=new Audio(a),T.current.load(),v(!0)):!1===F.current&&v(!0)}),[a]),c.a.useEffect((function(){var e;O&&(e=T.current,new Promise((function(t){e.onloadedmetadata=function(){e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,t(e.duration)}}}))).then((function(){N(!0)}))}),[O]),c.a.useEffect((function(){_&&(T.current.addEventListener("canplaythrough",(function(){if(!D.current){m(!0);var e=W(T.current.duration);D.current=e,A(D.current)}})),T.current.addEventListener("ended",(function(){clearInterval(P.current),A(D.current),U(0),l(!1)})))}),[_]),c.a.useEffect((function(){s!==n&&(T.current.pause(),l(!1))}),[s,n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"audioplayer ".concat(t?"":"audioplayer__alt"),children:[h?d?Object(f.jsx)(k.a,{onClick:function(){T.current.pause(),clearInterval(P.current),l(!1),A(D.current)},className:"pause"}):d?null:Object(f.jsx)(C.a,{onClick:function(){l(!0),T.current.play(),s!==n&&i(n),P.current=setInterval(B,100)}}):Object(f.jsx)(R.a,{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{style:{width:"".concat(I,"%")},className:"audioplayer__slider--played"}),Object(f.jsx)("input",{type:"range",min:"1",max:"100",value:I,onChange:function(e){var t=e.target.value,a=T.current.duration;if(h){var n=a*(t/100);T.current.currentTime=n,U(t)}},className:"audioplayer__slider"})]})]}),Object(f.jsx)("span",{className:"chat__timestamp audioplayer__time",children:M})]})}function I(e){var t=e.messages,a=e.user,n=e.roomId,c=e.audioId,i=e.setAudioId;return t?t.map((function(e){var t=e.uid===a.uid;return Object(f.jsxs)("div",{className:"chat__message ".concat(t?"chat__message--sender":""),children:[Object(f.jsx)("span",{className:"chat__name",children:e.name}),"uploading"===e.imageUrl?Object(f.jsx)("div",{className:"image-container",children:Object(f.jsx)("div",{className:"image__container--loader",children:Object(f.jsx)(R.a,{style:{width:40,height:40}})})}):e.imageUrl?Object(f.jsx)("div",{className:"image-container",children:Object(f.jsx)("img",{src:e.imageUrl,alt:e.name})}):null,e.audioName?Object(f.jsx)(S,{sender:t,roomId:n,id:e.id,audioUrl:e.audioUrl,audioId:c,setAudioId:i}):Object(f.jsx)("span",{className:"chat__message--message",children:e.message}),Object(f.jsx)("span",{className:"chat__timestamp",children:e.time})]},e.id)})):null}var U=a(130),L=a(131),E=a(132),M=a(133),A=a(147);a(92);function D(){return new Promise((function(e){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){var a=new MediaRecorder(t),n=[];a.addEventListener("dataavailable",(function(e){n.push(e.data)})),e({start:function(){a.start()},stop:function(){return new Promise((function(e){a.addEventListener("stop",(function(){var t=Object(A.a)(),a=new File(n,t,{type:"audio/mpeg"}),c=URL.createObjectURL(a),i=new Audio(c);e({audioFile:a,audioUrl:c,play:function(){i.play()},audioName:t})})),a.stop()}))}})}))}))}function T(e){var t=e.input,a=e.onChange,n=e.sendMessage,i=e.image,s=e.user,r=e.room,o=e.roomId,d=e.setAudioId,l=c.a.useState(!1),j=Object(w.a)(l,2),h=j[0],m=j[1],O=c.a.useState("00:00"),v=Object(w.a)(O,2),x=v[0],N=v[1],y=c.a.useRef(),R=c.a.useRef(),k=c.a.useRef(),C=c.a.useRef();function S(){return(S=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,D();case 3:k.current=e.sent,C.current.focus(),C.current.style.width="calc(100% - 56px)",m(!0),d("");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return String(e).length<2?"0".concat(e):e}function T(){return P.apply(this,arguments)}function P(){return(P=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.current.focus(),clearInterval(y.current),t=k.current.stop(),R.current.style.opacity="0",m(!1),C.current.style.width="calc(100% - 112px)",N("00:00"),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(_.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.next=5,t;case 5:a=e.sent,n=a.audioFile,c=a.audioName,W(n,c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return B.apply(this,arguments)}function B(){return(B=Object(_.a)(g.a.mark((function e(t,a){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.collection("users").doc(s.uid).collection("chats").doc(o).set({name:r.name,photoURL:r.photoURL||null,timestamp:p()}),e.next=3,u.collection("rooms").doc(o).collection("messages").add({name:s.displayName,uid:s.uid,timestamp:p(),time:(new Date).toUTCString(),audioUrl:"uploading",audioName:a});case 3:return n=e.sent,e.next=6,b.child(a).put(t);case 6:return e.next=8,b.child(a).getDownloadURL();case 8:c=e.sent,u.collection("rooms").doc(o).collection("messages").doc(n.id).update({audioUrl:c});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.a.useEffect((function(){h&&(R.current.style.opacity="1",function(){var e=Date.now();function t(){var t=Date.now()-e,a=Math.floor(t/1e3),n=I(parseInt(a/60)),c=I(parseInt(a%60)),i="".concat(n,":").concat(c);N(i)}y.current=setInterval(t,100)}(),k.current.start())}),[h]);var H=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(U.a,{style:{width:20,height:20,color:"white"}}),Object(f.jsx)(L.a,{style:{width:24,height:24,color:"white"}})]}),z=navigator.mediaDevices.getUserMedia&&window.MediaRecorder;return Object(f.jsxs)("div",{className:"chat__footer",children:[Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{ref:C,value:t,onChange:h?null:a,onKeyPress:h?function(){return!1}:null,placeholder:"Type a message"}),z?Object(f.jsx)("button",{onClick:t.trim()||""===t&&i?n:function(e){return S.apply(this,arguments)},type:"submit",className:"send__btn",children:H}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"capture",className:"send__btn",children:H}),Object(f.jsx)("input",{style:{display:"none"},type:"file",id:"capture",accept:"audio/*",capture:!0,onChange:function(e){var t=e.target.files[0];t&&(d(""),W(t,Object(A.a)()))}})]})]}),h&&Object(f.jsxs)("div",{ref:R,className:"record",children:[Object(f.jsx)(E.a,{style:{width:30,height:30,color:"#f20519"},onClick:T}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"record__redcircle"}),Object(f.jsx)("div",{className:"record__duration",children:x})]}),Object(f.jsx)(M.a,{style:{width:30,height:30,color:"#41bf49"},onClick:function(){return F.apply(this,arguments)}})]})]})}var P=a(134);a(93);function F(e){var t=e.src,a=e.closePreview;return t?Object(f.jsxs)("div",{className:"mediaPreview",children:[Object(f.jsx)(P.a,{onClick:a}),Object(f.jsx)("img",{src:t,alt:"Preview"})]}):null}var W=a(67),B=a.n(W),H=a(135),z=a(149),V=a(146),G=a(148),J=a(136),K=a(137),X=a(138);function q(e){var t=e.user,a=e.page,n=c.a.useState(null),i=Object(w.a)(n,2),s=i[0],o=i[1],d=c.a.useState(""),l=Object(w.a)(d,2),j=l[0],h=l[1],O=c.a.useState(!1),x=Object(w.a)(O,2),k=x[0],C=x[1],S=c.a.useState(null),U=Object(w.a)(S,2),L=U[0],E=U[1],M=c.a.useState(""),D=Object(w.a)(M,2),P=D[0],W=D[1],q=c.a.useState(""),Z=Object(w.a)(q,2),Q=Z[0],Y=Z[1],$=Object(N.h)().roomId,ee=Object(N.g)(),te=function(e){var t=Object(y.a)(e?u.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc"):null),a=Object(w.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}($),ae=function(e,t){var a=e.includes(t),n=a?null===e||void 0===e?void 0:e.replace(t,""):e,c=Object(y.b)(u.collection(a?"rooms":"users").doc(n)),i=Object(w.a)(c,1)[0];return i?Object(r.a)({id:i.id,photoURL:i.photoURL||"https://avatars.dicebear.com/api/human/".concat(i.id,".svg")},i.data()):null}($,t.uid);function ne(){return(ne=Object(_.a)(g.a.mark((function e(a){var n,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(j.trim()||""===j&&s)){e.next=11;break}return h(""),s&&ce(),n=Object(A.a)(),c=s?{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString(),imageUrl:"uploading",imageName:n}:{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString()},u.collection("users").doc(t.uid).collection("chats").doc($).set({name:ae.name,photoURL:ae.photoURL||null,timestamp:p()}),e.next=9,u.collection("rooms").doc($).collection("messages").add(c);case 9:i=e.sent,s&&new B.a(s,{quality:.8,maxWidth:1920,success:function(e){return Object(_.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W(""),o(null),t.next=4,m.child(n).put(e);case 4:return t.next=6,m.child(n).getDownloadURL();case 6:a=t.sent,u.collection("rooms").doc($).collection("messages").doc(i.id).update({imageUrl:a});case 8:case"end":return t.stop()}}),t)})))()}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){W(""),o(null)}function ie(){return(ie=Object(_.a)(g.a.mark((function e(){var n,c,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),C(!0),e.prev=2,n=u.collection("rooms").doc($),e.next=6,n.collection("messages").get();case 6:return c=e.sent,i=[],s=[],c.docs.forEach((function(e){e.data().audioName?i.push(e.data().audioName):e.data().imageName&&s.push(e.data().imageName)})),e.next=12,Promise.all([].concat(Object(v.a)(c.docs.map((function(e){return e.ref.delete()}))),Object(v.a)(s.map((function(e){return m.child(e).delete()}))),Object(v.a)(i.map((function(e){return b.child(e).delete()}))),[u.collection("users").doc(t.uid).collection("chats").doc($).delete(),n.delete()]));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error deleting room: ",e.t0.message);case 17:return e.prev=17,C(!1),a.isMobile?ee.goBack():ee.replace("/chats"),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,21]])})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)("div",{style:{height:a.height},className:"chat__background"}),Object(f.jsxs)("div",{className:"chat__header",children:[a.isMobile&&Object(f.jsx)(H.a,{onClick:ee.goBack,children:Object(f.jsx)(J.a,{})}),Object(f.jsx)("div",{className:"avatar__container",children:Object(f.jsx)(z.a,{src:null===ae||void 0===ae?void 0:ae.photoURL})}),Object(f.jsx)("div",{className:"chat__header--info",children:Object(f.jsx)("h3",{style:{width:a.isMobile&&a.width-165},children:null===ae||void 0===ae?void 0:ae.name})}),Object(f.jsxs)("div",{className:"chat__header--right",children:[Object(f.jsx)("input",{id:"image",style:{display:"none"},accept:"image/*",type:"file",onChange:function(e){var t=e.target.files[0];if(t){o(t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(){W(a.result)}}}}),Object(f.jsx)(H.a,{children:Object(f.jsx)("label",{style:{cursor:"pointer",height:24},htmlFor:"image",children:Object(f.jsx)(K.a,{})})}),Object(f.jsx)(H.a,{onClick:function(e){return E(e.currentTarget)},children:Object(f.jsx)(X.a,{})}),Object(f.jsx)(V.a,{id:"menu",anchorEl:L,open:Boolean(L),onClose:function(){return E(null)},keepMounted:!0,children:Object(f.jsx)(G.a,{onClick:function(){return ie.apply(this,arguments)},children:"Delete Room"})})]})]}),Object(f.jsx)("div",{className:"chat__body--container",children:Object(f.jsx)("div",{className:"chat__body",style:{height:a.height-68},children:Object(f.jsx)(I,{messages:te,user:t,roomId:$,audioId:Q,setAudioId:Y})})}),Object(f.jsx)(F,{src:P,closePreview:ce}),Object(f.jsx)(T,{input:j,onChange:function(e){h(e.target.value)},sendMessage:function(e){return ne.apply(this,arguments)},image:s,user:t,room:ae,roomId:$,setAudioId:Y}),k&&Object(f.jsx)("div",{className:"chat__deleting",children:Object(f.jsx)(R.a,{})})]})}var Z=a(68);var Q=a(141),Y=a(139),$=a(142),ee=a(143),te=a(144),ae=a(145),ne=(a(98),a(33)),ce=(a(99),a(140));function ie(e){var t=e.item;return Object(f.jsx)(ne.b,{className:"link",to:"/room/".concat(t.id),children:Object(f.jsxs)("div",{className:"sidebar__chat",children:[Object(f.jsx)("div",{className:"avatar__container",children:Object(f.jsx)(z.a,{style:{width:45,height:45},src:t.photoURL||"https://avatars.dicebear.com/api/human/".concat(t.id,".svg")})}),Object(f.jsx)("div",{className:"sidebar__chat--info",children:Object(f.jsx)("h2",{children:t.name})})]})})}function se(e){var t=e.title,a=e.data;return a?a.length||"Search Results"!==t?Object(f.jsxs)("div",{className:"sidebar__chat--container",children:[Object(f.jsx)("h2",{children:t}),a.map((function(e){return Object(f.jsx)(ie,{item:e},e.id)}))]}):Object(f.jsxs)("div",{className:"no-result",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(Y.a,{}),Object(f.jsx)("div",{className:"cancel-root",children:Object(f.jsx)(ce.a,{})})]}),Object(f.jsxs)("h2",{children:["No ",t]})]}):Object(f.jsx)("div",{className:"loader__container sidebar__loader",children:Object(f.jsx)(R.a,{})})}function re(e){var t,a=e.user,n=e.page,i=function(){var e=Object(y.a)(u.collection("rooms").orderBy("timestamp","desc")),t=Object(w.a)(e,1)[0];return null===t||void 0===t?void 0:t.docs.map((function(e){return Object(r.a)({id:e.id,userID:e.id},e.data())}))}(),s=function(e){var t=Object(y.a)(u.collection("users").orderBy("timestamp","desc")),a=Object(w.a)(t,1)[0],n=[];return e&&(null===a||void 0===a||a.docs.forEach((function(t){var a=t.id>e.uid?"".concat(t.id,"#{user.uid}"):"".concat(e.uid).concat(t.id);t.id!==e.uid&&n.push(Object(r.a)({id:a,userID:t.id},t.data()))}))),n}(a),o=function(e){var t=Object(y.a)(e?u.collection("users").doc(e.uid).collection("chats").orderBy("timestamp","desc"):null),a=Object(w.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}(a),d=c.a.useState([]),l=Object(w.a)(d,2),h=l[0],m=l[1],b=c.a.useState(1),O=Object(w.a)(b,2),x=O[0],R=O[1];function k(){return(k=Object(_.a)(g.a.mark((function e(t){var a,n,c,i,s,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements.search.value,e.next=4,u.collection("users").where("name","==",a).get();case 4:return n=e.sent,e.next=7,u.collection("rooms").where("name","==",a).get();case 7:c=e.sent,i=n.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),s=c.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),o=[].concat(Object(v.a)(i),Object(v.a)(s)),R(4),m(o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t=n.isMobile?ne.c:function(e){return Object(f.jsx)("div",{className:"".concat(e.activeClass?"sidebar__menu--selected":""),onClick:e.onClick,children:e.children})},Object(f.jsxs)("div",{className:"sidebar",style:{minHeight:n.isMobile?n.height:"auto"},children:[Object(f.jsxs)("div",{className:"sidebar__header",children:[Object(f.jsxs)("div",{className:"sidebar__header--left",children:[Object(f.jsx)(z.a,{src:null===a||void 0===a?void 0:a.photoURL}),Object(f.jsx)("h4",{children:null===a||void 0===a?void 0:a.displayName})]}),Object(f.jsx)("div",{className:"sidebar__header--right",children:Object(f.jsx)(H.a,{onClick:function(){j.signOut()},children:Object(f.jsx)(Q.a,{})})})]}),Object(f.jsx)("div",{className:"sidebar__search",children:Object(f.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},className:"sidebar__search--container",children:[Object(f.jsx)(Y.a,{}),Object(f.jsx)("input",{type:"text",placeholder:"Search for users or rooms",id:"search"})]})}),Object(f.jsxs)("div",{className:"sidebar__menu",children:[Object(f.jsx)(t,{to:"/chats",activeClassName:"sidebar__menu--selected",onClick:function(){return R(1)},activeClass:1===x,children:Object(f.jsxs)("div",{className:"sidebar__menu--home",children:[Object(f.jsx)($.a,{}),Object(f.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(f.jsx)(t,{to:"/rooms",activeClassName:"sidebar__menu--selected",onClick:function(){return R(2)},activeClass:2===x,children:Object(f.jsxs)("div",{className:"sidebar__menu--rooms",children:[Object(f.jsx)(ee.a,{}),Object(f.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(f.jsx)(t,{to:"/users",activeClassName:"sidebar__menu--selected",onClick:function(){return R(3)},activeClass:3===x,children:Object(f.jsxs)("div",{className:"sidebar__menu--users",children:[Object(f.jsx)(te.a,{}),Object(f.jsx)("div",{className:"sidebar__menu--line"})]})})]}),n.isMobile?Object(f.jsxs)(N.d,{children:[Object(f.jsx)(N.b,{path:"/chats",children:Object(f.jsx)(se,{title:"Chats",data:o})}),Object(f.jsx)(N.b,{path:"/rooms",children:Object(f.jsx)(se,{title:"Rooms",data:i})}),Object(f.jsx)(N.b,{path:"/users",children:Object(f.jsx)(se,{title:"Users",data:s})}),Object(f.jsx)(N.b,{path:"/search",children:Object(f.jsx)(se,{title:"Search Results",data:h})})]}):1===x?Object(f.jsx)(se,{title:"Chats",data:o}):2===x?Object(f.jsx)(se,{title:"Rooms",data:i}):3===x?Object(f.jsx)(se,{title:"Users",data:s}):4===x?Object(f.jsx)(se,{title:"Search Results",data:h}):null,Object(f.jsx)("div",{className:"sidebar__chat--addRoom",children:Object(f.jsx)(H.a,{onClick:function(){var e=prompt("Type the name of your Room");(null===e||void 0===e?void 0:e.trim())&&u.collection("rooms").add({name:e,timestamp:p()})},children:Object(f.jsx)(ae.a,{})})})]})}function oe(){var e=function(){var e=c.a.useState({width:void 0,height:void 0}),t=Object(w.a)(e,2),a=t[0],n=t[1];return c.a.useEffect((function(){function e(){if(window.innerHeight>768&&window.innerWidth>1366){var e=window.innerHeight/window.innerWidth,t=768/1366;n(t<e?{width:1366,height:window.innerHeight*(1366/window.innerWidth),transform:"scale(".concat(window.innerWidth/1366,")")}:t>e?{width:window.innerWidth*(768/window.innerHeight),height:768,transform:"scale(".concat(window.innerHeight/768,")")}:{width:1366,height:768,transform:"scale(".concat(window.innerHeight/768,")")})}n({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=760,transform:"scale(1)"})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),t=function(){var e=Object(Z.a)(j),t=Object(w.a)(e,1)[0];return c.a.useEffect((function(){if(t){var e=u.collection("users").doc(t.uid);e.get().then((function(a){a.exists||e.set({name:t.displayName,photoURL:t.photoURL,timestamp:p()})}))}}),[t]),t}();return t?Object(f.jsxs)("div",{className:"app",style:Object(r.a)({},e),children:[Object(f.jsx)(N.a,{to:e.isMobile?"/chats":"/"}),Object(f.jsxs)("div",{className:"app__body",children:[Object(f.jsx)(re,{user:t,page:e}),Object(f.jsx)(N.b,{path:"/room/:roomId",children:Object(f.jsx)(q,{user:t,page:e})})]})]}):Object(f.jsx)(O,{})}a(100);s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(ne.a,{children:Object(f.jsx)(oe,{})})}),document.getElementById("root"))},77:function(e,t,a){},78:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.b3ddd1ee.chunk.js.map